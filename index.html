<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WEonG - Route Development</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body, html { margin: 0; padding: 0; height: 100%; }
        #map { height: 100vh; width: 100%; }
    </style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // 1. Initialize the map
    const map = L.map('map').setView([48.5, -55.8], 7);

    // 2. Add the map tiles (Standard OpenStreetMap)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    // 3. Create the Draggable Pins
    // Corner Brook (Origin)
    const origin = L.marker([48.9515, -57.9482], {
        draggable: true
    }).addTo(map).bindPopup("<b>Origin</b> (Drag me)");

    // St. John's (Destination)
    const destination = L.marker([47.5615, -52.7126], {
        draggable: true
    }).addTo(map).bindPopup("<b>Destination</b> (Drag me)");

    // 4. Create the Route Line
    // This is a simple polyline that connects the two markers
    const routeLine = L.polyline([origin.getLatLng(), destination.getLatLng()], {
        color: '#2a52be',
        weight: 5
    }).addTo(map);

    // 5. Logic to make the line follow the pins when dragged
    function updateRoute() {
        routeLine.setLatLngs([
            origin.getLatLng(),
            destination.getLatLng()
        ]);
    }

    origin.on('drag', updateRoute);
    destination.on('drag', updateRoute);

    // Adjust view to show both pins
    map.fitBounds(routeLine.getBounds(), { padding: [50, 50] });
</script>

</body>
</html>
